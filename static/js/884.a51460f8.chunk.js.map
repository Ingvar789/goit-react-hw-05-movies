{"version":3,"file":"static/js/884.a51460f8.chunk.js","mappings":"mQAaMA,EAAcC,EAAAA,GAAAA,GAAH,+CAGXC,EAAgBD,EAAAA,GAAAA,IAAH,iEAIbE,EAAkBF,EAAAA,GAAAA,IAAH,0CAGfG,EAAgBH,EAAAA,GAAAA,IAAH,+CA6EnB,UAzEqB,SAAAI,GAAU,IAAD,EACtBC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0BE,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwBF,EAAAA,EAAAA,WAAS,GAAjC,eAAOG,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAIF,EAAJ,CAIA,IAAMG,EAAO,mCAAG,qGACEC,EAAAA,EAAAA,IAAgBT,GADlB,OACRU,EADQ,OAEdN,EAASM,GACTC,QAAQC,IAAIF,GAHE,2CAAH,qDAKbF,IAEAF,GAAQ,EATP,CAUF,GAAE,CAACD,EAAML,IACV,IAAMa,EAAc,IAAIC,KAAKX,EAAMY,cAAcC,cACjD,OAAKb,EAAMc,IAIT,+BACE,UAACzB,EAAD,YACE,mBAAQ0B,QAAS,kBAAMtB,EAASE,EAASqB,MAAMC,KAA9B,EAAjB,sBACA,UAAC9B,EAAD,qBACGa,EAAMkB,YADT,QACiBlB,EAAMmB,MADvB,KACgCT,GAAe,GAD/C,QAGA,UAACpB,EAAD,YACE,gBACE8B,IAAKC,EAAAA,GAAc,QAAarB,EAAMsB,YACtCC,IAAI,kBAEN,UAAChC,EAAD,YACE,4BACE,uCAAeiC,KAAKC,KAA0B,GAArBzB,EAAM0B,cAA/B,QACA,sCACA,uBAAI1B,EAAM2B,eAEZ,4BACE,oCACA,yBACG3B,EAAM4B,QACL5B,EAAM4B,OACHC,KAAI,SAAAC,GACH,OAAOA,EAAMZ,IACd,IACAa,KAAK,kBAKlB,2BACE,yBACE,SAAC,KAAD,CAAMC,GAAG,OAAOhB,MAAOrB,EAASqB,MAAhC,qBAIF,yBACE,SAAC,KAAD,CAAMgB,GAAG,UAAUhB,MAAOrB,EAASqB,MAAnC,2BAKJ,SAAC,KAAD,UA7CG,SAAC,IAAD,GAiDV,C","sources":["pages/MovieDetails.jsx"],"sourcesContent":["import { getMovieDetails } from 'services/api';\nimport { useState, useEffect } from 'react';\nimport {\n  Outlet,\n  useParams,\n  Link,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport { IMAGE_BASE_URL } from 'services/api';\nimport { Loader } from 'components/Loader/Loader';\nimport styled from 'styled-components';\n\nconst SMovieTitle = styled.h2`\n  text-align: center;\n`;\nconst SMovieWrapper = styled.div`\n  max-width: 1000px;\n  margin: 0 auto;\n`;\nconst SMovieContainer = styled.div`\n  display: flex;\n`;\nconst SMovieDetails = styled.div`\n  padding-left: 20px;\n`;\n// const SMovie\nconst MovieDetails = props => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState({});\n  const [init, setInit] = useState(false);\n\n  useEffect(() => {\n    if (init) {\n      return;\n    }\n\n    const request = async () => {\n      const r = await getMovieDetails(movieId);\n      setMovie(r);\n      console.log(r);\n    };\n    request();\n\n    setInit(true);\n  }, [init, movieId]);\n  const releaseYear = new Date(movie.release_date).getFullYear();\n  if (!movie.id) {\n    return <Loader />;\n  }\n  return (\n    <>\n      <SMovieWrapper>\n        <button onClick={() => navigate(location.state.from)}>Go back</button>\n        <SMovieTitle>\n          {movie.name ?? movie.title} ({releaseYear || ''})\n        </SMovieTitle>\n        <SMovieContainer>\n          <img\n            src={IMAGE_BASE_URL + `/w400` + movie.poster_path}\n            alt=\"Movie poster\"\n          />\n          <SMovieDetails>\n            <div>\n              <p>User score {Math.ceil(movie.vote_average * 10)}%</p>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n            </div>\n            <div>\n              <h4>Genres</h4>\n              <div>\n                {movie.genres &&\n                  movie.genres\n                    .map(genre => {\n                      return genre.name;\n                    })\n                    .join(', ')}\n              </div>\n            </div>\n          </SMovieDetails>\n        </SMovieContainer>\n        <ul>\n          <li>\n            <Link to=\"cast\" state={location.state}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" state={location.state}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Outlet />\n      </SMovieWrapper>\n    </>\n  );\n};\nexport default MovieDetails;\n"],"names":["SMovieTitle","styled","SMovieWrapper","SMovieContainer","SMovieDetails","props","navigate","useNavigate","location","useLocation","movieId","useParams","useState","movie","setMovie","init","setInit","useEffect","request","getMovieDetails","r","console","log","releaseYear","Date","release_date","getFullYear","id","onClick","state","from","name","title","src","IMAGE_BASE_URL","poster_path","alt","Math","ceil","vote_average","overview","genres","map","genre","join","to"],"sourceRoot":""}